# 07. å†…ç½® API



## 7.1 API åŸºç¡€



å°ç¨‹åºå¼€å‘æ¡†æ¶æä¾›ä¸°å¯Œçš„å¾®ä¿¡åŸç”Ÿ `API`ï¼Œå¯ä»¥æ–¹ä¾¿çš„è°ƒèµ·å¾®ä¿¡æä¾›çš„èƒ½åŠ›ï¼Œå¦‚è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œæœ¬åœ°å­˜å‚¨ï¼Œæ”¯ä»˜åŠŸèƒ½ç­‰ï¼Œå‡ ä¹æ‰€æœ‰å°ç¨‹åºçš„ `API` éƒ½æŒ‚è½½åœ¨ `wx` å¯¹è±¡åº•ä¸‹ï¼Œä¾‹å¦‚ï¼š`wx.chooseMedia()`ã€`wx.request()`, `wx` å¯¹è±¡å®é™…ä¸Šå°±æ˜¯å°ç¨‹åºçš„å®¿ä¸»ç¯å¢ƒå¾®ä¿¡æ‰€æä¾›çš„å…¨å±€å¯¹è±¡



é€šå¸¸ï¼Œåœ¨å°ç¨‹åº API æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š

1. äº‹ä»¶ç›‘å¬ APIï¼šçº¦å®šä»¥ `on` å¼€å¤´ API ç”¨æ¥ç›‘å¬æŸä¸ªäº‹ä»¶æ˜¯å¦è§¦å‘ï¼Œä¾‹å¦‚ï¼š`wx.onThemeChange()`
2. åŒæ­¥ APIï¼šçº¦å®šä»¥ `Sync` ç»“å°¾çš„ API éƒ½æ˜¯åŒæ­¥ APIï¼Œä¾‹å¦‚ï¼š`wx.setStorageSync()`
3. å¼‚æ­¥ APIï¼šå¤§å¤šæ•° API éƒ½æ˜¯å¼‚æ­¥ APIï¼Œä¾‹å¦‚ï¼š`wx.setStorage()`



å¼‚æ­¥ API æ¥å£é€šå¸¸éƒ½æ¥å—ä¸€ä¸ª `Object` ç±»å‹çš„å‚æ•°ï¼Œå¼‚æ­¥ API æ”¯æŒ `callback` & `Promise` ä¸¤ç§è°ƒç”¨æ–¹å¼ã€‚å½“æ¥å£å‚æ•° Object å¯¹è±¡ä¸­ä¸åŒ…å« `success/fail/complete` æ—¶å°†é»˜è®¤è¿”å› `Promise`



```js
await selectImg () {
  // callback å½¢å¼è°ƒç”¨
  wx.chooseMedia({
    success(res) {
      console.log('res:', res)
    },
    fail(err) {
      console.log('err:', err)
    }
  })

  // promise å½¢å¼è°ƒç”¨
  wx.chooseMedia()
    .then(res => console.log('res: ', res))
    .catch(err => err)

  // async å’Œ await å½¢å¼è·å– promise æ•°æ®
  const res = await wx.chooseMedia()
  console.log(res)
}
```







## 7.2 ç½‘ç»œè¯·æ±‚



**çŸ¥è¯†ç‚¹ï¼š**



å‘èµ· HTTPS ç½‘ç»œè¯·æ±‚éœ€è¦ä½¿ç”¨ï¼š`wx.request()`ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

```js
wx.request({
  // æ¥å£åœ°å€ï¼Œä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€
  url: 'example.php',
  // è¯·æ±‚çš„å‚æ•°
  data: { x: '' },
  // è¯·æ±‚æ–¹å¼
  method: 'GET|POST|PUT|DELETE',
  success (res) {
    console.log(res.data)
  },
  fail(err) {
    console.log(err)
  }
})
```



<font color="red">**æ³¨æ„ï¼šwx.request() è¯·æ±‚çš„åŸŸåéœ€è¦åœ¨å°ç¨‹åºç®¡ç†å¹³å°è¿›è¡Œé…ç½®ï¼Œå¦‚æœå°ç¨‹åºæ­£å¼ç‰ˆä½¿ç”¨wx.requestè¯·æ±‚æœªé…ç½®çš„åŸŸåï¼Œåœ¨æ§åˆ¶å°ä¼šæœ‰ç›¸åº”çš„æŠ¥é”™ã€‚**</font>






è¿™æ—¶å€™å°±éœ€è¦åœ¨å°ç¨‹åºç®¡ç†åå°è¿›è¡Œè®¾ç½®è¯·æ±‚çš„åŸŸåï¼Œæ‰“å¼€å¾®ä¿¡å…¬ä¼—åå°ï¼šç‚¹å‡»å·¦ä¾§ å¼€å‘ â†’ å¼€å‘ç®¡ç† â†’ å¼€å‘è®¾ç½® â†’ æœåŠ¡å™¨åŸŸåã€‚**åŸŸååªæ”¯æŒ `https` è€Œä¸”è¦æ±‚å·²å¤‡æ¡ˆ**



ä½†ä¸€èˆ¬æˆ‘ä»¬åœ¨å¼€å‘é˜¶æ®µæ—¶ï¼Œå¤„äºå¼€å‘é˜¶æ®µçš„æœåŠ¡å™¨æ¥å£å¯èƒ½è¿˜æ²¡éƒ¨ç½²åˆ°å¯¹åº”çš„åŸŸåä¸‹ï¼Œç»å¸¸ä¼šé€šè¿‡å¦ä¸€ä¸ªåŸŸåæ¥è¿›è¡Œå¼€å‘è°ƒè¯•ï¼Œè€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è¿›è¡Œå¼€å‘è°ƒè¯•ï¼Œå¼€å‘è€…å·¥å…·ã€å°ç¨‹åºçš„å¼€å‘ç‰ˆå’Œå°ç¨‹åºçš„ä½“éªŒç‰ˆåœ¨æŸäº›æƒ…å†µä¸‹å…è®¸ `wx.request` è¯·æ±‚ä»»æ„åŸŸå (åªé€‚ç”¨äºå¼€å‘ç¯å¢ƒï¼Œåªèƒ½åœ¨å°ç¨‹åºå¼€å‘è€…å·¥å…·ä¸­ç”Ÿæ•ˆ)ï¼Œåœ¨å¼€å‘å·¥å…·ä¸­è®¾ç½®æ­¥éª¤å¦‚ä¸‹ï¼š



å°† **ä¸æ ¡éªŒåˆæ³•åŸŸåã€web-view (ä¸šåŠ¡åŸŸå)ã€TLSç‰ˆæœ¬ä»¥åŠHTTPSè¯ä¹¦** å‹¾é€‰ä¸Š



**è½åœ°ä»£ç ï¼š**



```js
Page({
  // é¡µé¢çš„åˆå§‹æ•°æ®
  data: {},

  // è·å–æ•°æ®
  getPostInfo() {
    wx.request({
      url: 'https://jsonplaceholder.typicode.com/posts/1',
      method: 'GET',
      success(res) {
        console.log(res)
      },
      fail(err) {
        console.log(err)
      }
    })
  },
    
  // coding...
}
```









## 7.3 ç•Œé¢äº¤äº’



å°ç¨‹åºè¿˜æä¾›äº†ä¸€äº›ç”¨äºç•Œé¢äº¤äº’çš„ APIï¼Œå¦‚æ¶ˆæ¯æç¤ºæ¡†ã€æ¨¡æ€å¯¹è¯æ¡†ã€ loading æç¤ºæ¡†ç­‰ç­‰



### 7.3.1 loading æç¤ºæ¡†



**çŸ¥è¯†ç‚¹ï¼š**

loading æç¤ºæ¡†å¸¸é…åˆç½‘ç»œè¯·æ±‚æ¥ä½¿ç”¨ï¼Œç”¨äºå¢åŠ ç”¨æˆ·ä½“éªŒï¼Œå¯¹åº”çš„ API æœ‰ä¸¤ä¸ªï¼Œ

åˆ†åˆ«ä¸ºï¼š

1. `wx.showLoading` æ˜¾ç¤ºåŠ è½½æç¤ºæ¡†
2. `wx.hideLoading` éšè—åŠ è½½æç¤ºæ¡†

è¯­æ³•å¦‚ä¸‹ï¼š

```js
wx.showLoading({
  title: 'æç¤ºå†…å®¹', // æç¤ºçš„å†…å®¹
  mask: true, // æ˜¯å¦æ˜¾ç¤ºé€æ˜è’™å±‚ï¼Œé˜²æ­¢è§¦æ‘¸ç©¿é€
  success() {}, // æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°
  fail() {} // æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°
})
```





**è½åœ°ä»£ç ï¼š**

```js
Page({
    
   // coding...
   
  getPostData() {
    // æ˜¾ç¤º loading æ•ˆæœ
    wx.showLoading({
      title: 'æ•°æ®æ­£åœ¨åŠ è½½ä¸­....',
      mask: true
    })

    wx.request({
      url: 'https://jsonplaceholder.typicode.com/posts/1',
      method: 'GET',
      success(res) {
        console.log(res)
        
        // éšè— loading æ•ˆæœ
        wx.hideLoading()
      },
      fail(err) {
        console.log(err)
        
        // éšè— loading æ•ˆæœ
        wx.hideLoading()
      }
    })
  }
    
  // coding...
    
})
```





### 7.3.2 æ¶ˆæ¯æç¤ºæ¡†



**çŸ¥è¯†ç‚¹ï¼š**



æ¶ˆæ¯æç¤ºæ¡†æ˜¯æŒ‡æ ¹æ®ç”¨æˆ·çš„æŸäº›æ“ä½œæ¥å‘ŠçŸ¥æ“ä½œçš„ç»“æœï¼Œå¦‚é€€å‡ºæˆåŠŸç»™ç”¨æˆ·æç¤ºï¼Œæç¤ºåˆ é™¤æˆåŠŸç­‰

å¯¹åº”çš„ API æ˜¯ `wx.showToast`ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š



```js
wx.showToast({
  title: 'æ ‡é¢˜', // æç¤ºçš„å†…å®¹
  duration: 2000, // æç¤ºçš„å»¶è¿Ÿæ—¶é—´
  mask: true, // æ˜¯å¦æ˜¾ç¤ºé€æ˜è’™å±‚ï¼Œé˜²æ­¢è§¦æ‘¸ç©¿é€
  icon: 'success', // 	å›¾æ ‡
  success() {}, // æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°
  fail() {} // æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°
})
```



**è½åœ°ä»£ç ï¼š**



```js
Page({
  // coding...
  
  handler(event) {
    wx.showToast({
      title: 'åˆ é™¤æˆåŠŸ', // æç¤ºçš„å†…å®¹
      duration: 2000, // æç¤ºçš„å»¶è¿Ÿæ—¶é—´
      mask: true, // æ˜¯å¦æ˜¾ç¤ºé€æ˜è’™å±‚ï¼Œé˜²æ­¢è§¦æ‘¸ç©¿é€
      icon: 'success' // 	å›¾æ ‡
    })
  }
   
  // coding...

})
```









## 7.4 æœ¬åœ°å­˜å‚¨



å°ç¨‹åºä¸­ä¹Ÿèƒ½å¤Ÿåƒç½‘é¡µä¸€æ ·æ”¯æŒæœ¬åœ°æ•°æ®ç¼“å­˜ï¼Œæœ¬åœ°æ•°æ®ç¼“å­˜æ˜¯å°ç¨‹åºå­˜å‚¨åœ¨å½“å‰è®¾å¤‡ä¸Šç¡¬ç›˜ä¸Šçš„æ•°æ®ï¼Œæœ¬åœ°æ•°æ®ç¼“å­˜æœ‰éå¸¸å¤šçš„ç”¨é€”ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æœ¬åœ°æ•°æ®ç¼“å­˜æ¥å­˜å‚¨ç”¨æˆ·åœ¨å°ç¨‹åºä¸Šäº§ç”Ÿçš„æ“ä½œï¼Œåœ¨ç”¨æˆ·å…³é—­å°ç¨‹åºé‡æ–°æ‰“å¼€æ—¶å¯ä»¥æ¢å¤ä¹‹å‰çš„çŠ¶æ€ã€‚æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨æœ¬åœ°ç¼“å­˜ä¸€äº›æœåŠ¡ç«¯éå®æ—¶çš„æ•°æ®æé«˜å°ç¨‹åºè·å–æ•°æ®çš„é€Ÿåº¦ï¼Œåœ¨ç‰¹å®šçš„åœºæ™¯ä¸‹å¯ä»¥æé«˜é¡µé¢çš„æ¸²æŸ“é€Ÿåº¦ï¼Œå‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ã€‚å…¶åŒ…å«ä»¥ä¸‹ 8ä¸ªä¸»è¦çš„ API



| åŒæ­¥ API               | å¼‚æ­¥ API              | ä½œç”¨                                |
| ---------------------- | --------------------- | ----------------------------------- |
| `wx.setStorageSync`    | `wx.setStorage`       | å°†æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ç¼“å­˜ä¸­æŒ‡å®šçš„ key ä¸­ |
| `wx.getStorageSync`    | `wx.getStorage`       | ä»æœ¬åœ°ç¼“å­˜ä¸­åŒæ­¥è·å–æŒ‡å®š key çš„å†…å®¹ |
| `wx.removeStorageSync` | `wx.removeStorage`    | ä»æœ¬åœ°ç¼“å­˜ä¸­ç§»é™¤æŒ‡å®š key            |
| `wx.clearStorageSync`  | `wx.clearStorageSync` | æ¸…ç†æœ¬åœ°æ•°æ®ç¼“å­˜                    |

å¼‚æ­¥æ–¹å¼çš„ `API`ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™éƒ½éœ€è¦ä¼ å…¥å¯¹è±¡ç±»å‹çš„å‚æ•°

åŒæ­¥æ–¹å¼æ‰§è¡Œçš„ API åœ¨ä½¿ç”¨æ—¶ç®€æ´æ¯”è¾ƒå¥½ï¼Œç¼ºç‚¹æ˜¯åŒæ­¥ä¼šé˜»å¡ç¨‹åºæ‰§è¡Œï¼Œæ‰§è¡Œæ•ˆç‡ä¸Šç›¸è¾ƒå¼‚æ­¥ç‰ˆæœ¬è¦å·®ä¸€äº›ã€‚



> ğŸ“Œ **æ³¨æ„äº‹é¡¹**ï¼š
>
> 1. å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œå­˜å‚¨ï¼Œæ— éœ€ä½¿ç”¨ `JSON.stringify` è½¬æ¢
> 2. å¯¹è±¡ç±»å‹çš„æ•°æ®å­˜çš„æ—¶å€™æ²¡æœ‰ä½¿ç”¨è½¬æ¢ï¼Œå› æ­¤è·å–çš„æ—¶å€™ä¹Ÿä¸éœ€è¦ä½¿ç”¨ `JSON.parse` è½¬æ¢



**è½åœ°ä»£ç ï¼š**

```html
<button type="primary" bindtap="handler" size="mini" plain bindtap="setData">
  å­˜å‚¨æ•°æ®
</button>

<button type="primary" bindtap="handler" size="mini" plain bindtap="getData">
  è·å–æ•°æ®
</button>

<button type="warn" bindtap="handler" size="mini" plain bindtap="delData">
  åˆ é™¤æ•°æ®
</button>

<button type="warn" bindtap="handler" size="mini" plain bindtap="clearData">
  ç§»é™¤æ•°æ®
</button>
```



```js
Page({
  // é¡µé¢çš„åˆå§‹æ•°æ®
  data: {},

  setData() {
    // å°†æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ç¼“å­˜ä¸­æŒ‡å®šçš„ key ä¸­
    // wx.setStorageSync('userInfo', { name: 'tom' })

    wx.setStorage({
      key: 'userInfo',
      data: { name: 'tom' }
    })
  },

  getData() {
    // ä»æœ¬åœ°ç¼“å­˜ä¸­åŒæ­¥è·å–æŒ‡å®š key çš„å†…å®¹
    // console.log(wx.getStorageSync('userInfo'))

    wx.getStorage({
      key: 'userInfo',
      success(res) {
        console.log(res.data)
      }
    })
  },

  delData() {
    // ä»æœ¬åœ°ç¼“å­˜ä¸­ç§»é™¤æŒ‡å®š key
    // wx.removeStorageSync('userInfo')

    wx.removeStorage({
      key: 'userInfo'
    })
  },

  clearData() {
    // æ¸…ç†æœ¬åœ°æ•°æ®ç¼“å­˜
    // wx.clearStorageSync()

    wx.clearStorage({
      success() {
        console.log('åˆ é™¤æˆåŠŸ')
      }
    })
  }
 
  // coding...
}
```





## 7.5 è·¯ç”±ä¸é€šä¿¡



**çŸ¥è¯†ç‚¹ï¼š**



åœ¨å°ç¨‹åºä¸­å®ç°é¡µé¢çš„è·³è½¬ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š

1. å£°æ˜å¼å¯¼èˆªï¼š`navigator` ç»„ä»¶
2. ç¼–ç¨‹å¼å¯¼èˆªï¼šä½¿ç”¨å°ç¨‹åºæä¾›çš„ `API`
   - `wx.navigateTo()`ï¼šä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ï¼Œä½†æ˜¯ä¸èƒ½è·³åˆ° tabbar é¡µé¢
   - `wx.redirectTo()`ï¼šå…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢ã€‚ä½†æ˜¯ä¸å…è®¸è·³è½¬åˆ° tabbar é¡µé¢
   - `wx.navigateBack()`ï¼šå…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€é¡µé¢æˆ–å¤šçº§é¡µé¢
3.  è·¯å¾„åå¯ä»¥å¸¦å‚æ•°ï¼Œå‚æ•°éœ€è¦åœ¨è·³è½¬åˆ°çš„é¡µé¢çš„ `onLoad` é’©å­å‡½æ•°ä¸­é€šè¿‡å½¢å‚è¿›è¡Œæ¥æ”¶
   - å‚æ•°ä¸è·¯å¾„ä¹‹é—´ä½¿ç”¨ `?` åˆ†éš”
   - å‚æ•°é”®ä¸å‚æ•°å€¼ç”¨ `=` ç›¸è¿
   - ä¸åŒå‚æ•°ç”¨ `&` åˆ†éš”
   - ä¾‹å¦‚ `path?key=value&key2=value2`



**è½åœ°ä»£ç ï¼š**

```js
Page({
  navigateTo() {
    wx.navigateTo({
      url: '/pages/index/index?id=1',
      success(res) {}
    })
  }
})
```



```js
Page({
  redirectTo() {
    wx.redirectTo({
      url: '/pages/index/index?id=1',
    })
  }
})
```



```js
Page({
  navigateBack() {
    wx.navigateBack({
      // å›é€€å‡ ä¸ªé¡µé¢
      delta: 1
    })
  }
})
```











## 7.6 è·å–ç”¨æˆ·å¤´åƒ



å½“å°ç¨‹åºéœ€è¦è®©ç”¨æˆ·å®Œå–„ä¸ªäººèµ„æ–™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¾®ä¿¡æä¾›çš„å¤´åƒã€æ˜µç§°å¡«å†™èƒ½åŠ›å¿«é€Ÿå®Œå–„ã€‚å¦‚å›¾ï¼š






æƒ³ä½¿ç”¨å¾®ä¿¡æä¾›çš„å¤´åƒå¡«å†™èƒ½åŠ›ï¼Œéœ€è¦ä¸¤æ­¥ï¼š

1. å°† [button](https://developers.weixin.qq.com/miniprogram/dev/component/button.html) ç»„ä»¶ `open-type` çš„å€¼è®¾ç½®ä¸º `chooseAvatar`
2. å½“ç”¨æˆ·é€‰æ‹©éœ€è¦ä½¿ç”¨çš„å¤´åƒä¹‹åï¼Œå¯ä»¥é€šè¿‡ `bindchooseavatar` äº‹ä»¶å›è°ƒè·å–åˆ°å¤´åƒä¿¡æ¯çš„ä¸´æ—¶è·¯å¾„ã€‚

```html
<!-- ç»™ button æ·»åŠ  open-type å±æ€§ï¼Œå€¼ä¸º chooseAvatar -->
<!-- ç»‘å®š bindchooseavatar äº‹ä»¶è·å–å›è°ƒä¿¡æ¯ -->
<button open-type="chooseAvatar" bindchooseavatar="getAvatar">
  æŒ‰é’®
</button>
```



**è½åœ°ä»£ç ï¼š**


```html
<view class="avatar">
  <button open-type="chooseAvatar" bindchooseavatar="getAvatar">
    <image src="{{ avatarUrl }}" mode="" />
  </button>
</view>
```

```js
Page({
  /**
   * é¡µé¢çš„åˆå§‹æ•°æ®
   */
  data: {
    avatarUrl: '/assets/tom.png'
  },

  // è·å–ç”¨æˆ·å¤´åƒä¿¡æ¯
  getAvatar(e) {
    // è·å–é€‰ä¸­çš„å¤´åƒ
    const { avatarUrl } = e.detail

    // å°†è·å–åˆ°çš„å¤´åƒèµ‹å€¼ç»™ data ä¸­å˜é‡åŒæ­¥ç»™é¡µé¢ç»“æ„
    this.setData({
      avatarUrl
    })
  }
 
  // coding...
}
```









## 7.7 è·å–ç”¨æˆ·æ˜µç§°



**çŸ¥è¯†ç‚¹ï¼š**

å½“å°ç¨‹åºéœ€è¦è®©ç”¨æˆ·å®Œå–„ä¸ªäººèµ„æ–™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¾®ä¿¡æä¾›çš„å¤´åƒã€æ˜µç§°å¡«å†™èƒ½åŠ›å¿«é€Ÿå®Œå–„ã€‚å¦‚å›¾ï¼š






æƒ³ä½¿ç”¨å¾®ä¿¡æä¾›çš„æ˜µç§°å¡«å†™èƒ½åŠ›ï¼Œéœ€è¦ä¸¤æ­¥ï¼š

1. éœ€è¦å°† [input](https://developers.weixin.qq.com/miniprogram/dev/component/input.html) ç»„ä»¶ `type` çš„å€¼è®¾ç½®ä¸º `nickname`ï¼Œå½“ç”¨æˆ·è¾“å…¥æ¡†è¾“å…¥æ—¶ï¼Œé”®ç›˜ä¸Šæ–¹ä¼šå±•ç¤ºå¾®ä¿¡æ˜µç§°
2. ç»™ `input` ç»„ä»¶è¿›è¡ŒåŒå‘æ•°æ®ç»‘å®šï¼Œå³å¯å°†è¡¨å•ä¸­çš„å€¼åŒæ­¥åˆ° `data` ä¸­è¿›è¡Œæ”¶é›†





**è½åœ°ä»£ç ï¼š**

```html
<view class="nickname">
  <text>æ˜µç§°</text>
  <input
    type="nickname"
    placeholder="è¯·è¾“å…¥æ˜µç§°"
    model:value="{{ nickName }}"
  />
</view>
```

